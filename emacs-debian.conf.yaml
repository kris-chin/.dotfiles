- defaults:
    shell:
        stdin: true
        stdout: true
        stderr: true

#make sure you get the org folder from syncthing. otherwise, just create ~/org/roam

- shell:
    #add the universe repository
    -
        command: sudo apt-add-repository universe
        description: "Add the universe repository for apt"
    #build and install emacs, then delete the ~/.emacs.d folder
    -
        command: ./build-emacs-latest.sh; sudo rm -rf ~/.emacs.d
        description: Build and install emacs. Then delete ~/.emacs.d
    #build an updated ripgrep binary with PCRE lookaheads (for doom)
    #NOTE: assumes cargo is installed. man, I gotta set up these configs so they can be independent of each other..
    -
        command: cargo install --features pcre2 ripgrep
        description: Build ripgrep with pcre lookaheads
    #install doom emacs
    -
        command: git clone --depth 1 https://github.com/doomemacs/doomemacs ~/.config/emacs; ~/.config/emacs/bin/doom install; ~/.config/emacs/bin/doom sync
        description: install doom emacs
        stderr: true
    #change permissions of ~/.local/share/fonts to allow for easy font installations
    - 
        command: sudo chmod a+rwx ~/.local/share/fonts
        description: Add permissions to ~/.local/share/fonts

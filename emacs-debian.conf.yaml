- create:
  - ~/org/roam

- shell:
    #add the universe repository
    -
        command: sudo apt-add-repository universe
        stdin: true
        stdout: true
        description: "Add the universe repository for apt"
        stderr: true
    #build and install emacs, then delete the ~/.emacs.d folder
    -
        command: ./build-emacs-latest.sh; sudo rm -rf ~/.emacs.d
        stdin: true
        stdout: true
        description: Build and install emacs. Then delete ~/.emacs.d
        stderr: true
    #build an updated ripgrep binary with PCRE lookaheads (for doom)
    #NOTE: assumes cargo is installed. man, I gotta set up these configs so they can be independent of each other..
    -
        command: cargo install --features pcre2 ripgrep
        stdin: true
        stdout: true
        description: Build ripgrep with pcre lookaheads
        strerr: true
    #install doom emacs
    -
        command: git clone --depth 1 https://github.com/doomemacs/doomemacs ~/.config/emacs; ~/.config/emacs/bin/doom install; ~/.config/emacs/bin/doom sync
        stdin: true
        stdout: true
        description: install doom emacs
        stderr: true
    #change permissions of ~/.local/share/fonts to allow for easy font installations
    - 
        command: sudo chmod a+rwx ~/.local/share/fonts
        stdin: true
        stdout: true
        description: Add permissions to ~/.local/share/fonts
        stderr: true
